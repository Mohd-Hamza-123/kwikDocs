---
title: useActionState Hook
published: true
---

`useActionState` is a **new React hook introduced in React 19**. It's designed to simplify handling **form actions, async mutations, and UI state** in client components.

Think of it as a more powerful `useState` for actions:

* It runs an action (usually async).
* Tracks its **pending/loading** state automatically.
* Updates the UI when the action completes.
* Works well with **forms, buttons, and async operations**.


### üîπ Basic Syntax of useActionState

```jsx
const [state, action, isPending] = useActionState(actionFn, initialState, perActionHandler?);
```

* `state`: Current state (e.g., error message, success result).
* `action`: Function you call (or connect to `<form action={action}>`).
* `isPending`: Boolean flag, `true` while the action is running.
* `actionFn`: The async function that performs the action.
* `initialState`: Initial value for the state.
* `perActionHandler`: Optional function to handle individual results.


**Example**

```jsx
import { useActionState } from 'react';

export default function Register() {

  const register = async (previousData, formData) => {

    // console.log(previousData)

    const name = formData.get("name")
    const email = formData.get("email")
    const password = formData.get("password")

    try {
      return { message: "Registered successfully" }
    } catch (error) {
      return { error: "Something went wrong" }
    }
  };


  const [data, action, isPending] = useActionState(register, undefined)

  console.log("data : ", data)

  return (
    <div>
      <h3>Register</h3>
      <form action={action}>
        <input type="text" name="name" placeholder="Name" />
        <br />
        <input type="text" name="email" placeholder="Email" />
        <br />
        <input type="password" name="password" placeholder="Password" />
        <br />
        <button type="submit" disabled={isPending}>Register</button>
      </form>
      {data?.message && <p className='text-green-400'>{data.message}</p>}
      {data?.error && <p className='text-red-500'>{data.error}</p>}
    </div>
  );
}
```

**Another Example** 

```jsx
import React from "react";
import { useActionState } from "react";

function Counter() {
  async function incrementAction(currentCount) {
    return currentCount + 1;
  }

  const [count, increment, isPending] = useActionState(incrementAction, 0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => increment(count)} disabled={isPending}>
        {isPending ? "Adding..." : "Add +1"}
      </button>
    </div>
  );
}

export default Counter;
```

### Difference between `actionFn` and `action` 

üîπ `actionFn`

* **What it is:** Your function definition (the logic).
* **What it does:** Describes how to take the previous state + inputs and return the next state.
* **Who calls it:** React calls this internally through the wrapper.
* **Do you call it directly?** ‚ùå No.


üîπ `action`

* **What it is:** A wrapper function returned by `useActionState`.
* **What it does:**

  * Calls `actionFn` for you.
  * Supplies the previous state automatically.
  * Updates the hook‚Äôs `state` with the return value.
  * Sets and clears `isPending` while running.
* **Who calls it:** You call this in your component (e.g., `onClick`, `<form action={...}>`).
* **Do you call it directly?** ‚úÖ Yes.


So in Short :

* **`actionFn` = the recipe (instructions for cooking).**
* **`action` = the chef (follows the recipe, updates the kitchen, tells you when busy).**

---
