---
title : Environment Variables
published : true
---

Setting environment variables in Docker can be done in several ways depending on how you're building and running your containers.


### üõ†Ô∏è 1. **Using the `Dockerfile`**

You can use the `ENV` instruction in a `Dockerfile` to define environment variables **during the image build**:

```Dockerfile
# Dockerfile
FROM node:18

ENV PORT=3000
ENV NODE_ENV=production

WORKDIR /app
COPY . .

CMD ["node", "index.js"]
```

In your code, you can access them like:

```js
console.log(process.env.PORT); // 3000
```

---

## ‚ñ∂Ô∏è 2. **Using the `docker run` command**

You can pass environment variables when starting a container:

```bash
docker run -e PORT=4000 -e NODE_ENV=development my-image
```

---

## üìÑ 3. **Using an `.env` file**

Create a `.env` file:

```
PORT=5000
NODE_ENV=staging
```

Then run:

```bash
docker run --env-file .env my-image
```

---

## üß™ 4. **Using `docker-compose.yml`**

```yaml
version: '3'
services:
  app:
    image: my-image
    ports:
      - "3000:3000"
    environment:
      - PORT=3000
      - NODE_ENV=production
```

Or use an external `.env` file with Compose (automatically picked up if named `.env` in the same directory):

```yaml
environment:
  - PORT
  - NODE_ENV
```

---

**Best Practices**

* Use `.env` files for sensitive values (avoid hardcoding secrets in Dockerfile).
* For production, use Docker secrets or orchestration tools (e.g., Kubernetes secrets).

Let me know if you're using Docker CLI or `docker-compose`‚ÄîI can tailor examples.

---