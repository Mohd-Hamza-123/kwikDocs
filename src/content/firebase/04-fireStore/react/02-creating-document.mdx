---
title: Creating a Document
published: true
---

#### Configure Firestore Database

First, initialize Firebase and set up Firestore:

```js
import { initializeApp } from "firebase/app";
import { getFirestore } from "firebase/firestore";

// Firebase configuration (replace with your own keys in .env)
const firebaseConfig = {
  apiKey: process.env.FIREBASE_API_KEY,
  authDomain: process.env.FIREBASE_AUTH_DOMAIN,
  // other config values...
};

// Initialize Firebase App
const app = initializeApp(firebaseConfig);

// Initialize Firestore Database
export const firestoreDb = getFirestore(app, "database name");
```


### Create a Document

Here is a React component that allows you to create a Firestore document via a form:

```jsx
import { fireStoreDb } from '@/firebase/firebase.js';
import { collection, addDoc, serverTimestamp, getDoc } from "firebase/firestore";

const CreatePost = () => {

    const handleSubmit = async (e) => {
        try {
            e.preventDefault();

            // Extract form data
            const formData = new FormData(e.target);
            const title = formData.get('title');
            const content = formData.get('content');
         
            // Add a new document to the "posts" collection
            const document = await addDoc(collection(fireStoreDb, "posts"), {
                title,                         // Post title
                content,                       // Post content
                createdAt: serverTimestamp(),  // Server-generated timestamp
                like: 0,                       // Default like count
                image: {                       // Placeholder image object
                    secure_url: "",
                    public_id: ""
                },
                isPublished: true,             // Default publish status
            });

            // Retrieve the newly created document snapshot
            const docSnap = await getDoc(document);

            if (docSnap.exists()) {
                // If the document exists, log its data
                console.log(docSnap.data());
            } else {
                // If the document was not created
                alert("Post not Created");
            }

        } catch (error) {
            // Handle any errors
            console.log(error);
        }
    };

    return (
        <div>
            <h1>Create Post</h1>
            {/* Form to create a new post */}
            <form onSubmit={handleSubmit}>
                <input type="text" placeholder="Title" name="title" />
                <textarea placeholder="Content" name="content" />
                <button type="submit" className="block bg-green-500 text-white">
                    Submit
                </button>
            </form>
        </div>
    );
};

export default CreatePost;
```


### Key Points

1. **Initialize Firestore**
   Use `getFirestore(app, "database name")` to connect your Firebase app to Firestore.

2. **Add a Document**
   The `addDoc` function inserts data into a collection (`posts` in this example).

3. **Server Timestamp**
   `serverTimestamp()` ensures that the timestamp comes from Firestore servers, not the clientâ€™s local time.

4. **Retrieve the Document**
   After creation, use `getDoc(document)` to fetch the snapshot of the newly created document.

---

