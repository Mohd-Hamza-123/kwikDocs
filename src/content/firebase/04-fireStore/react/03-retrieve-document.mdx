---
title: Retrieve Document
published: true
---

Firestore provides several ways to retrieve documents depending on your needs.

### 1. Get a Single Document by ID

If you know the document ID, you can fetch it directly.

```js
import { doc, getDoc } from "firebase/firestore";
import { firestoreDb } from "@/firebase/firebase.js";

const getSinglePost = async (id) => {
  try {
    // Reference to a single document
    const docRef = doc(firestoreDb, "posts", id);
    const docSnap = await getDoc(docRef);

    if (docSnap.exists()) {
      console.log("Document Data:", docSnap.data());
    } else {
      console.log("No such document!");
    }
  } catch (error) {
    console.error("Error fetching document:", error);
  }
};
```

### 2. Get All Documents in a Collection

You can fetch all documents from a collection at once.

```js
import { collection, getDocs } from "firebase/firestore";
import { firestoreDb } from "@/firebase/firebase.js"; // your firebase configuration
const getAllPosts = async () => {
  try {
    // Reference to the "posts" collection
    const querySnapshot = await getDocs(collection(firestoreDb, "posts"));

    const documents = querySnapshot.docs.map((doc) => {
      return { ...doc.data(), id: doc.id }
      })

  } catch (error) {
    console.error("Error fetching documents:", error);
  }
};
```


### 3. Get Documents with a Field Condition

You can use queries to filter documents by a field value.

```js
import { collection, query, where, getDocs } from "firebase/firestore";
import { firestoreDb } from "@/firebase/firebase.js"; // your firebase configuration

const getPublishedPosts = async () => {
  try {
    const q = query(
      collection(firestoreDb, "posts"), 
      where("isPublished", "==", true),          // Query: posts where isPublished = true
    );

    const querySnapshot = await getDocs(q);

    const documents = querySnapshot.docs.map((doc) => {
      return { ...doc.data(), id: doc.id }
      })
  } catch (error) {
    console.error("Error fetching filtered documents:", error);
  }
};
```


### 4. Get Documents with Multiple Conditions

* You can combine multiple `where` clauses.
* By default, multiple where() filters use AND logic.

```js
import { collection, query, where, getDocs } from "firebase/firestore";
import { firestoreDb } from "@/firebase/firebase.js"; // your firebase configuration
const getFilteredPosts = async () => {
  try {
    // Example: posts where isPublished = true AND like >= 10
    const q = query(
      collection(firestoreDb, "posts"),
      where("isPublished", "==", true),
      where("like", ">=", 10),                   // Query: posts where like >= 10
      where("isBanned", "!=" , true),            // Query: posts where isBanned != true
      where("dislike", "<=", 5),                 // Query: posts where dislike < 10
      where("price", ">" , 100),                 // Query: posts where price > 100
      where("amount", "<", 1000),                // Query: posts where amount < 1000
      where("status", "in", ["draft", "review"]) // Matches documents where status is "draft" OR "review
      where("category", "not-in", ["food", "sport"])  // Matches docs whose category is not food or sport
      where("tags", "array-contains", "firebase") // Matches documents where the tags array contains exactly "firebase"
      where("tags", "array-contains-any", ["firebase", "nextjs"]) // Matches documents where the tags array contains any of the specified values
    );

    const querySnapshot = await getDocs(q);
    const documents = querySnapshot.docs.map((doc) => {
      return { ...doc.data(), id: doc.id }
      })
      
  } catch (error) {
    console.error("Error fetching filtered documents:", error);
  }
};
```

* OR Queries (multiple conditions)

```jsx
import { or, query, where, collection, getDocs } from "firebase/firestore";
import { firestoreDb } from "@/firebase/firebase.js"; // configuration

const getPostsByTitleOrAuthor = async () => {
  try {
    // Example: title_lower == "hello world" OR author == "Hamza"
    const q = query(
      collection(firestoreDb, "posts"),
      or(
        where("title", "==", "hello world"),
        where("author", "==", "Hamza")
      )
    );

    const snapshot = await getDocs(q);
    const docs = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
    console.log(docs);
  } catch (err) {
    console.error("Error:", err);
  }
};

```

### 5. Get Documents with Ordering and Limits

Firestore allows you to sort results and limit the number of documents returned.

```js
import { collection, query, orderBy, limit, getDocs } from "firebase/firestore";
import { firestoreDb } from "@/firebase/firebase.js"; // your firebase configuration

const getRecentPosts = async () => {
  try {
    // Example: order by createdAt in descending order, limit 5 results
    const q = query(
      collection(firestoreDb, "posts"),
      orderBy("createdAt", "desc"),
      limit(5)
    );

    const querySnapshot = await getDocs(q);
    const documents = querySnapshot.docs.map((doc) => {
      return { ...doc.data(), id: doc.id }
      })
  } catch (error) {
    console.error("Error fetching ordered documents:", error);
  }
};
```


### Retrieve Document from a Sub-Collection

You can retrieve a document from a sub-collection by specifying the path to the document.

```jsx
import { collection, getDocs, query, orderBy } from "firebase/firestore";
import { fireStoreDb } from "@/firebase/firebase";

async function getComments(postId) {
  try {
    // Reference to: posts/{postId}/comments
    const commentsRef = collection(fireStoreDb, "posts", postId, "comments");

    // Optional: order comments by createdAt
    const q = query(commentsRef, orderBy("createdAt", "asc"));

    // Fetch documents
    const querySnapshot = await getDocs(q);

    // Map documents to objects
    const comments = querySnapshot.docs.map(doc => ({
      id: doc.id,
      ...doc.data()
    }));

    console.log(comments);
    return comments;
  } catch (error) {
    console.error("Error fetching comments:", error);
  }
}
```

---


