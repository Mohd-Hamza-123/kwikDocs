---
title : Lazy Loading
published : true
---


React has two important features that improve performance and user experience when dealing with **code splitting** and **loading states**:

### 1. **lazy**

* `lazy` lets you **dynamically import components** only when theyâ€™re needed.
* Instead of bundling everything into one big file, you split your code into smaller chunks.
* This reduces the initial load time of your app.

ğŸ‘‰ Syntax:

```jsx
const SomeComponent = React.lazy(() => import('./SomeComponent'));
```


### 2. **Suspense**

* `Suspense` lets you show a **fallback (like a loading spinner or text)** while your lazy-loaded component is still loading.
* It wraps around components that might render asynchronously.

ğŸ‘‰ Syntax:

```jsx
<Suspense fallback={<div>Loading...</div>}>
  <SomeComponent />
</Suspense>
```


**Example: Lazy Loading with Suspense**

```jsx
import React, { Suspense, lazy } from 'react';

// Lazy load the component
const Profile = lazy(() => import('./Profile'));

function App() {
  return (
    <div>
      <h1>My App</h1>
      
      {/* Suspense shows fallback until Profile is loaded */}
      <Suspense fallback={<p>Loading profile...</p>}>
        <Profile />
      </Suspense>
    </div>
  );
}

export default App;
```

**Explanation:**

1. `Profile` is not loaded immediately when the app starts.
2. When React reaches `<Profile />`, it fetches the component from `./Profile.js`.
3. Until it finishes loading, `"Loading profile..."` is displayed.


**Example with Multiple Lazy Components**

```jsx
import React, { Suspense, lazy } from 'react';

const Dashboard = lazy(() => import('./Dashboard'));
const Settings = lazy(() => import('./Settings'));

function App() {
  return (
    <div>
      <h1>Lazy Loading Example</h1>
      
      <Suspense fallback={<p>Loading...</p>}>
        <Dashboard />
        <Settings />
      </Suspense>
    </div>
  );
}

export default App;
```

Here, both `Dashboard` and `Settings` will load asynchronously, and while theyâ€™re loading, `"Loading..."` will be shown.


**Example: Route-based Lazy Loading (React Router)**

Lazy loading is super common in routing:

```jsx
import React, { Suspense, lazy } from 'react';
import { BrowserRouter, Routes, Route } from 'react-router-dom';

const Home = lazy(() => import('./Home'));
const About = lazy(() => import('./About'));

function App() {
  return (
    <BrowserRouter>
      <Suspense fallback={<h2>Loading Page...</h2>}>
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/about" element={<About />} />
        </Routes>
      </Suspense>
    </BrowserRouter>
  );
}

export default App;
```

This way, `Home` and `About` pages are loaded only when the user visits them.


### Quick Analogy:

* **Lazy** â†’ Think of it like ordering food only when youâ€™re hungry, not storing everything in your fridge.
* **Suspense** â†’ The waiter gives you a drink (fallback) while the main dish (lazy component) is being prepared.

### When to use lazy and Suspense ? 

Great question ğŸ‘ and very important for **real-world React apps**.

The short answer is:
ğŸ‘‰ **Donâ€™t make everything lazy.**
Lazy loading has benefits, but it also adds overhead.

Letâ€™s break it down:

---

## ğŸ”¹ When to use **normal import**

Use **normal import** for:

1. **Core UI components** that are small and used everywhere:

   * Header, Footer, Navbar
   * Buttons, Inputs, Form elements
   * Theme/Layout components

â¡ï¸ These are needed **immediately** and delaying them will just hurt UX.

Example:

```jsx
import Navbar from './Navbar';
import Footer from './Footer';
```

---

### ğŸ”¹ When to use **lazy import**

Use **React.lazy** for:

1. **Large components/pages** that are not needed at first load

   * Dashboards, Settings, Reports, Charts
   * Admin panels
   * Modals with heavy dependencies

2. **Route-based code splitting**

   * Perfect for React Router â†’ load a page only when user navigates there.

3. **Rarely used UI elements**

   * A component the user *might* open later (e.g., Help section, Profile settings).

Example:

```jsx
const Chart = React.lazy(() => import('./Chart'));
```


### ğŸ”¹ Why not lazy load everything?

* Every lazy import creates an **extra network request (chunk)**.
* If a component is tiny (like 2KB), the overhead of splitting it might be worse than just loading it normally.
* Too many lazy components can cause **waterfall loading** â†’ user sees lots of loading spinners instead of content.


### âš–ï¸ Rule of Thumb

* **Small & shared components** â†’ normal import âœ…
* **Large & rarely used components/pages** â†’ lazy import âœ…
* **Think user experience** â†’ if the user needs it immediately, load it normally.


Example Decision:

* `Navbar`, `Footer`, `Button` â†’ normal import
* `Dashboard`, `Reports`, `Profile Settings` â†’ lazy import
* `HelpModal` (opens rarely) â†’ lazy import


---

