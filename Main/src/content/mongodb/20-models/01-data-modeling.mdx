---
title: Data Modeling & Schema Design
isPublished: true
---

###  What is Data Modeling?

**Data Modeling** is the process of deciding how data should be structured, stored, and related inside a database.  
It focuses on planning **what data we need** before writing any code.

> üß† **Data Modeling = Thinking / Planning**

#### üéØ Key Points
- Decide what data a system needs (e.g., users, products, posts)
- Identify the fields and what type they are
- Decide relationships between data (e.g., user has many posts)

---

### üë§ Example: User Data Model

Before writing code, we plan what fields a `User` should have:

| **Field**      | **Type** | **Constraint / Info**                              |
| -------------- | -------- | -------------------------------------------------- |
| `name`         | String   | required                                           |
| `email`        | String   | required, unique, lowercase                        |
| `passwordHash` | String   | required                                           |
| `avatarUrl`    | String   | optional (profile picture)                         |
| `phone`        | String   | optional, unique                                   |
| `role`         | String   | enum: `"user"`, `"admin"` (default `"user"`)       |
| `isVerified`   | Boolean  | default: false (email/phone verification)          |
| `status`       | String   | enum: `"active"`, `"blocked"` (default `"active"`) |
| `createdAt`    | Date     | auto generated (timestamp)                         |
| `updatedAt`    | Date     | auto generated (timestamp)                         |

> üìå **This table is data modeling** ‚Äî it‚Äôs planning before writing code and works for any database (SQL, MongoDB, Firebase, etc.)

---

### What is Schema Design?

**Schema Design** is the process of implementing the planned data model in a specific database.  
It defines the exact structure, rules, and types in **database code**.

> üîß **Schema Design = Writing / Implementing**

- Converts the model into actual database schema
- Includes types, validation rules, constraints, defaults, etc.
- Implementation is different for each database (SQL, MongoDB, Firebase)

---

### üõ¢Ô∏è User Schema in MongoDB (Mongoose)

```js
import mongoose, { Schema } from "mongoose";

const userSchema = new Schema(
  {
    name: {
      type: String,
      required: true,
      trim: true,
    },

    email: {
      type: String,
      required: true,
      unique: true,
      lowercase: true,
      trim: true,
    },

    passwordHash: {
      type: String,
      required: true,
    },

    avatarUrl: {
      type: String,
      default: null, // optional
    },

    phone: {
      type: String,
      unique: true,
      sparse: true, // allows unique + optional
    },

    role: {
      type: String,
      enum: ["user", "admin"],
      default: "user",
    },

    isVerified: {
      type: Boolean,
      default: false,
    },

    status: {
      type: String,
      enum: ["active", "blocked"],
      default: "active",
    },
  },
  { timestamps: true }
);

// Creating and exporting the model
export default mongoose.model("User", userSchema);
```

---

### üîÅ Relationship Between Both

```
Data Modeling (Plan)
        ‚Üì
Schema Design (Code Blueprint)
        ‚Üì
Database (Stores + Validates Data)
```

---
